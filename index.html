<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPG Adventure</title>
    
    <!-- Telegram WebApp —Å–∫—Ä–∏–ø—Ç -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    
    <!-- React –∏–∑ CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body { 
            margin: 0; 
            padding: 0; 
            font-family: system-ui; 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        #root { 
            min-height: 100vh; 
            overflow-x: hidden;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            touch-action: pan-y;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes sparkle {
            0%, 100% { transform: scale(1) rotate(0deg); opacity: 1; }
            50% { transform: scale(1.2) rotate(180deg); opacity: 0.8; }
        }
        
        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }
        .animate-slideUp { animation: slideUp 0.3s ease-out; }
        .animate-sparkle { animation: sparkle 1s ease-in-out; }
        
        .pattern-bg {
            background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.3) 1px, transparent 0);
            background-size: 20px 20px;
        }
        
        /* –£–ª—É—á—à–µ–Ω–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
        body {
            -webkit-overflow-scrolling: touch;
            touch-action: pan-y;
            overscroll-behavior: contain;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script>
        // –≠–º—É–ª—è—Ü–∏—è hatch –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ Hatch –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
        const hatch = {
            useStoredState: (key, defaultValue) => {
                const [value, setValue] = React.useState(() => {
                    try {
                        const stored = localStorage.getItem(key);
                        return stored ? JSON.parse(stored) : defaultValue;
                    } catch {
                        return defaultValue;
                    }
                });
                
                const setStoredValue = React.useCallback((newValue) => {
                    setValue(newValue);
                    localStorage.setItem(key, JSON.stringify(newValue));
                }, [key]);
                
                return [value, setStoredValue];
            }
        };
        
        const { useState, useEffect, useCallback } = React;
        
        // –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–≥—Ä—ã
        const MOBS = [
            { name: '–í–æ–ª–∫', hp: 8, attack: 3, defense: 1, xp: 3, gold: 2, emoji: 'üê∫' },
            { name: '–ì–æ–±–ª–∏–Ω', hp: 12, attack: 4, defense: 2, xp: 4, gold: 3, emoji: 'üëπ' },
            { name: '–û—Ä–∫', hp: 18, attack: 6, defense: 3, xp: 6, gold: 5, emoji: '‚öîÔ∏è' },
            { name: '–ü–∞—É–∫', hp: 15, attack: 8, defense: 1, xp: 7, gold: 4, emoji: 'üï∑Ô∏è' },
            { name: '–ì–æ–ª–µ–º', hp: 25, attack: 5, defense: 8, xp: 10, gold: 8, emoji: 'üóø' }
        ];
        
        const BOSSES = [
            { name: '–ö–æ—Ä–æ–ª—å –ì–æ–±–ª–∏–Ω–æ–≤', hp: 50, attack: 12, defense: 5, xp: 25, gold: 50, emoji: 'üëë', isBoss: true },
            { name: '–î—Ä–µ–≤–Ω–∏–π –î—Ä–∞–∫–æ–Ω', hp: 80, attack: 18, defense: 10, xp: 50, gold: 100, emoji: 'üêâ', isBoss: true },
            { name: '–õ–∏—á-–ú–∞–≥', hp: 60, attack: 20, defense: 3, xp: 40, gold: 75, emoji: 'üíÄ', isBoss: true }
        ];
        
        const EQUIPMENT_SLOTS = ['weapon', 'armor', 'boots', 'helmet'];
        
        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–¥–º–µ—Ç–æ–≤
        const generateRandomItem = (rarity) => {
            const adjectives = ['–°—Ç–∞–ª—å–Ω–æ–π', '–û—Å—Ç—Ä—ã–π', '–ü—Ä–æ—á–Ω—ã–π', '–õ–µ–≥–∫–∏–π', '–ö—Ä–µ–ø–∫–∏–π'];
            const itemTypes = {
                weapon: ['–º–µ—á', '—Ç–æ–ø–æ—Ä', '–ª—É–∫'],
                armor: ['–±—Ä–æ–Ω—è', '–∫–æ–ª—å—á—É–≥–∞'],
                boots: ['—Å–∞–ø–æ–≥–∏', '–±–æ—Ç–∏–Ω–∫–∏'],
                helmet: ['—à–ª–µ–º', '–∫–∞–ø—é—à–æ–Ω']
            };

            const type = EQUIPMENT_SLOTS[Math.floor(Math.random() * EQUIPMENT_SLOTS.length)];
            const adj = adjectives[Math.floor(Math.random() * adjectives.length)];
            const noun = itemTypes[type][Math.floor(Math.random() * itemTypes[type].length)];

            const rarityStats = {
                '–û–±—ã—á–Ω—ã–π': { min: 1, max: 3 },
                '–†–µ–¥–∫–∏–π': { min: 3, max: 6 },
                '–≠–ø–∏—á–µ—Å–∫–∏–π': { min: 6, max: 9 },
                '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π': { min: 9, max: 15 }
            };

            const stats = rarityStats[rarity];
            const attack = type === 'weapon' ? Math.floor(Math.random() * (stats.max - stats.min + 1)) + stats.min : Math.floor(Math.random() * 3);
            const defense = type !== 'weapon' ? Math.floor(Math.random() * (stats.max - stats.min + 1)) + stats.min : Math.floor(Math.random() * 2);

            return {
                id: Date.now() + Math.random(),
                name: `${adj} ${noun}`,
                type,
                rarity,
                attack,
                defense,
                price: (attack + defense) * 10 + Math.floor(Math.random() * 50)
            };
        };
        
        // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI
        const Button = ({ children, onClick, variant = 'primary', disabled = false, className = '', icon, pulse = false }) => {
            const variants = {
                primary: 'bg-gradient-to-r from-violet-500 to-purple-600 text-white hover:from-violet-600 hover:to-purple-700 shadow-lg hover:shadow-xl transform hover:scale-105',
                secondary: 'bg-gradient-to-r from-blue-500 to-cyan-600 text-white hover:from-blue-600 hover:to-cyan-700 shadow-lg hover:shadow-xl transform hover:scale-105',
                danger: 'bg-gradient-to-r from-red-500 to-pink-600 text-white hover:from-red-600 hover:to-pink-700 shadow-lg hover:shadow-xl transform hover:scale-105',
                ghost: 'bg-slate-100 text-slate-700 hover:bg-slate-200 border border-slate-300',
                success: 'bg-gradient-to-r from-green-500 to-emerald-600 text-white hover:from-green-600 hover:to-emerald-700 shadow-lg hover:shadow-xl transform hover:scale-105'
            };
            
            return React.createElement('button', {
                onClick,
                disabled,
                className: `
                    relative flex items-center justify-center font-medium rounded-2xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 px-6 py-3 text-base
                    ${variants[variant]}
                    ${disabled ? 'opacity-50 cursor-not-allowed hover:scale-100 hover:shadow-none' : ''}
                    ${pulse ? 'animate-pulse' : ''}
                    ${className}
                `
            }, [
                icon && React.createElement('span', { key: 'icon', className: 'mr-2' }, icon),
                children
            ]);
        };
        
        const Card = ({ children, className = '', animated = false, padding = 'p-6' }) => 
            React.createElement('div', {
                className: `
                    bg-white rounded-3xl shadow-xl border border-slate-200 
                    ${animated ? 'animate-fadeIn' : ''} 
                    ${padding} 
                    ${className}
                `
            }, children);
        
        const ProgressBar = ({ value, max, color = 'bg-gradient-to-r from-violet-400 to-purple-500', className = '' }) =>
            React.createElement('div', { className: `w-full bg-slate-200 rounded-full h-3 ${className}` },
                React.createElement('div', {
                    className: `${color} h-3 rounded-full transition-all duration-500 ease-out`,
                    style: { width: `${Math.min(100, (value / max) * 100)}%` }
                })
            );
        
        // –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–≥—Ä—ã
        const MinimalRPG = () => {
            const [player, setPlayer] = hatch.useStoredState('minimal-rpg-player', {
                level: 1,
                xp: 0,
                gold: 100,
                energy: 10,
                maxEnergy: 10,
                hp: 100,
                maxHp: 100,
                inventory: [],
                equipped: { weapon: null, armor: null, boots: null, helmet: null },
                stats: { 
                    mobsKilled: 0, 
                    goldEarned: 0, 
                    bossesKilled: 0
                }
            });
            
            const [shop, setShop] = hatch.useStoredState('minimal-rpg-shop', []);
            const [currentTab, setCurrentTab] = useState('main');
            const [battle, setBattle] = useState(null);
            const [notification, setNotification] = useState('');
            const [floatingTexts, setFloatingTexts] = useState([]);
            const [effects, setEffects] = useState([]);
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–∞
            useEffect(() => {
                if (shop.length === 0) {
                    const newShop = [];
                    const rarities = ['–û–±—ã—á–Ω—ã–π', '–û–±—ã—á–Ω—ã–π', '–†–µ–¥–∫–∏–π', '–†–µ–¥–∫–∏–π', '–≠–ø–∏—á–µ—Å–∫–∏–π', '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π'];
                    for (let i = 0; i < 6; i++) {
                        const rarity = rarities[Math.floor(Math.random() * rarities.length)];
                        newShop.push(generateRandomItem(rarity));
                    }
                    setShop(newShop);
                }
            }, [shop, setShop]);
            
            // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            const showNotification = (message) => {
                setNotification(message);
                setTimeout(() => setNotification(''), 3000);
            };
            
            const showFloatingText = (text, color = 'text-green-500') => {
                const id = Date.now();
                setFloatingTexts(prev => [...prev, { id, text, color }]);
                setTimeout(() => {
                    setFloatingTexts(prev => prev.filter(item => item.id !== id));
                }, 2000);
            };
            
            const showEffect = (type) => {
                const id = Date.now();
                setEffects(prev => [...prev, { id, type }]);
                setTimeout(() => {
                    setEffects(prev => prev.filter(effect => effect.id !== id));
                }, 1500);
            };
            
            // –†–∞—Å—á–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫
            const calculateStats = useCallback(() => {
                let totalAttack = 1;
                let totalDefense = 0;
                
                if (player.equipped && player.inventory) {
                    Object.values(player.equipped).forEach(itemId => {
                        if (itemId) {
                            const item = player.inventory.find(i => i.id === itemId);
                            if (item) {
                                totalAttack += item.attack || 0;
                                totalDefense += item.defense || 0;
                            }
                        }
                    });
                }
                
                return { attack: Math.floor(totalAttack), defense: Math.floor(totalDefense) };
            }, [player.equipped, player.inventory]);
            
            const currentStats = calculateStats();
            const xpNeeded = player.level * 10;
            
            // –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏
            useEffect(() => {
                const interval = setInterval(() => {
                    setPlayer(prev => ({
                        ...prev,
                        energy: Math.min(prev.maxEnergy, prev.energy + 1),
                        hp: Math.min(prev.maxHp, prev.hp + 1)
                    }));
                }, 30000);
                
                return () => clearInterval(interval);
            }, [setPlayer]);
            
            // –ì–ª–∞–≤–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
            const handleMainAction = () => {
                if (player.energy <= 0) {
                    showNotification('–ù–µ—Ç —ç–Ω–µ—Ä–≥–∏–∏');
                    return;
                }
                
                const random = Math.random();
                
                if (random < 0.05 && player.level >= 5) {
                    const boss = BOSSES[Math.floor(Math.random() * BOSSES.length)];
                    setBattle({ ...boss, mobHp: boss.hp });
                    setCurrentTab('battle');
                } else if (random < 0.4) {
                    const mob = MOBS[Math.floor(Math.random() * MOBS.length)];
                    setBattle({ ...mob, mobHp: mob.hp });
                    setCurrentTab('battle');
                } else if (random < 0.7) {
                    const goldFound = Math.floor(Math.random() * player.level * 3) + 1;
                    setPlayer(prev => ({
                        ...prev,
                        energy: prev.energy - 1,
                        gold: prev.gold + goldFound,
                        stats: { ...prev.stats, goldEarned: prev.stats.goldEarned + goldFound }
                    }));
                    showNotification(`+${goldFound} –∑–æ–ª–æ—Ç–∞`);
                    showFloatingText(`üí∞ +${goldFound}`, 'text-amber-500');
                } else {
                    const xpGained = Math.floor(Math.random() * player.level) + 1;
                    setPlayer(prev => {
                        const newXp = prev.xp + xpGained;
                        const newLevel = newXp >= xpNeeded ? prev.level + 1 : prev.level;
                        const finalXp = newXp >= xpNeeded ? newXp - xpNeeded : newXp;
                        
                        if (newLevel > prev.level) {
                            showNotification(`–£—Ä–æ–≤–µ–Ω—å ${newLevel}!`);
                            showFloatingText(`üéâ –£—Ä–æ–≤–µ–Ω—å ${newLevel}!`, 'text-purple-500');
                            showEffect('sparkle');
                            return {
                                ...prev,
                                energy: prev.energy - 1,
                                xp: finalXp,
                                level: newLevel,
                                maxEnergy: 10 + (newLevel - 1) * 2,
                                maxHp: 100 + (newLevel - 1) * 20
                            };
                        }
                        
                        return { ...prev, energy: prev.energy - 1, xp: finalXp };
                    });
                    showFloatingText(`‚≠ê +${xpGained} XP`, 'text-violet-500');
                }
            };
            
            // –ë–æ–π
            const handleBattleAction = (action) => {
                if (!battle) return;
                
                if (action === 'attack') {
                    const playerDamage = Math.max(1, currentStats.attack - battle.defense);
                    const newMobHp = battle.mobHp - playerDamage;
                    
                    if (newMobHp <= 0) {
                        setPlayer(prev => ({
                            ...prev,
                            gold: prev.gold + battle.gold,
                            xp: prev.xp + battle.xp,
                            stats: { 
                                ...prev.stats, 
                                mobsKilled: prev.stats.mobsKilled + 1,
                                goldEarned: prev.stats.goldEarned + battle.gold,
                                bossesKilled: battle.isBoss ? prev.stats.bossesKilled + 1 : prev.stats.bossesKilled
                            }
                        }));
                        
                        showNotification(`–ü–æ–±–µ–¥–∞! +${battle.gold} –∑–æ–ª–æ—Ç–∞, +${battle.xp} –æ–ø—ã—Ç–∞`);
                        showFloatingText(`üèÜ –ü–æ–±–µ–¥–∞!`, 'text-green-500');
                        showEffect('sparkle');
                        
                        setTimeout(() => {
                            setBattle(null);
                            setCurrentTab('main');
                        }, 2000);
                        return;
                    }
                    
                    const mobDamage = Math.max(1, battle.attack - currentStats.defense);
                    const newPlayerHp = player.hp - mobDamage;
                    
                    if (newPlayerHp <= 0) {
                        setPlayer(prev => ({ ...prev, hp: 1 }));
                        showNotification('–ü–æ—Ä–∞–∂–µ–Ω–∏–µ');
                        showFloatingText('üíÄ –ü–æ—Ä–∞–∂–µ–Ω–∏–µ', 'text-red-500');
                        
                        setTimeout(() => {
                            setBattle(null);
                            setCurrentTab('main');
                        }, 1500);
                        return;
                    }
                    
                    setBattle(prev => ({ ...prev, mobHp: newMobHp }));
                    setPlayer(prev => ({ ...prev, hp: newPlayerHp }));
                }
            };
            
            // –ü–æ–∫—É–ø–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–∞
            const buyItem = (index) => {
                const item = shop[index];
                if (player.gold >= item.price) {
                    setPlayer(prev => ({
                        ...prev,
                        gold: prev.gold - item.price,
                        inventory: [...prev.inventory, { ...item, id: Date.now() + Math.random() }]
                    }));
                    
                    setShop(prev => {
                        const newShop = prev.filter((_, i) => i !== index);
                        const rarities = ['–û–±—ã—á–Ω—ã–π', '–û–±—ã—á–Ω—ã–π', '–†–µ–¥–∫–∏–π', '–†–µ–¥–∫–∏–π', '–≠–ø–∏—á–µ—Å–∫–∏–π', '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π'];
                        const rarity = rarities[Math.floor(Math.random() * rarities.length)];
                        const newItem = generateRandomItem(rarity);
                        return [...newShop, newItem];
                    });
                    
                    showNotification(`–ö—É–ø–ª–µ–Ω ${item.name}`);
                    showFloatingText(`üõçÔ∏è ${item.name}`, 'text-green-500');
                } else {
                    showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–æ–ª–æ—Ç–∞');
                }
            };
            
            // –≠–∫–∏–ø–∏—Ä–æ–≤–∫–∞
            const equipItem = (item) => {
                setPlayer(prev => ({
                    ...prev,
                    equipped: { ...prev.equipped, [item.type]: item.id }
                }));
                showNotification(`–≠–∫–∏–ø–∏—Ä–æ–≤–∞–Ω ${item.name}`);
                showFloatingText(`‚öîÔ∏è ${item.name}`, 'text-blue-500');
            };
            
            // –†–µ–Ω–¥–µ—Ä—ã —ç–∫—Ä–∞–Ω–æ–≤
            const renderMain = () => 
                React.createElement('div', { className: 'space-y-8' }, [
                    React.createElement(Card, { key: 'status', animated: true }, [
                        React.createElement('div', { key: 'header', className: 'flex items-center justify-between mb-6' }, [
                            React.createElement('div', { key: 'title' }, [
                                React.createElement('h2', { key: 'name', className: 'text-2xl font-bold text-slate-800' }, '–ì–µ—Ä–æ–π'),
                                React.createElement('div', { key: 'level', className: 'text-slate-600' }, `–£—Ä–æ–≤–µ–Ω—å ${player.level}`)
                            ]),
                            React.createElement('div', { key: 'icon', className: 'text-4xl' }, '‚öîÔ∏è')
                        ]),
                        
                        React.createElement('div', { key: 'stats', className: 'space-y-4' }, [
                            React.createElement('div', { key: 'xp' }, [
                                React.createElement('div', { key: 'xp-label', className: 'flex justify-between text-sm text-slate-600 mb-1' }, [
                                    React.createElement('span', { key: 'xp-text' }, '–û–ø—ã—Ç'),
                                    React.createElement('span', { key: 'xp-value' }, `${player.xp}/${xpNeeded}`)
                                ]),
                                React.createElement(ProgressBar, { key: 'xp-bar', value: player.xp, max: xpNeeded })
                            ]),
                            
                            React.createElement('div', { key: 'hp' }, [
                                React.createElement('div', { key: 'hp-label', className: 'flex justify-between text-sm text-slate-600 mb-1' }, [
                                    React.createElement('span', { key: 'hp-text' }, '–ó–¥–æ—Ä–æ–≤—å–µ'),
                                    React.createElement('span', { key: 'hp-value' }, `${player.hp}/${player.maxHp}`)
                                ]),
                                React.createElement(ProgressBar, { 
                                    key: 'hp-bar',
                                    value: player.hp, 
                                    max: player.maxHp, 
                                    color: 'bg-gradient-to-r from-red-400 to-pink-500' 
                                })
                            ]),
                            
                            React.createElement('div', { key: 'energy' }, [
                                React.createElement('div', { key: 'energy-label', className: 'flex justify-between text-sm text-slate-600 mb-1' }, [
                                    React.createElement('span', { key: 'energy-text' }, '–≠–Ω–µ—Ä–≥–∏—è'),
                                    React.createElement('span', { key: 'energy-value' }, `${player.energy}/${player.maxEnergy}`)
                                ]),
                                React.createElement(ProgressBar, { 
                                    key: 'energy-bar',
                                    value: player.energy, 
                                    max: player.maxEnergy, 
                                    color: 'bg-gradient-to-r from-green-400 to-emerald-500' 
                                })
                            ]),
                            
                            React.createElement('div', { key: 'gold', className: 'flex justify-between items-center' }, [
                                React.createElement('span', { key: 'gold-text', className: 'text-slate-600' }, '–ó–æ–ª–æ—Ç–æ'),
                                React.createElement('span', { key: 'gold-value', className: 'text-2xl font-bold text-yellow-600' }, `üí∞ ${player.gold}`)
                            ])
                        ])
                    ]),
                    
                    React.createElement(Card, { key: 'actions', animated: true }, [
                        React.createElement('h3', { key: 'title', className: 'text-lg font-bold text-slate-800 mb-4' }, 'üéØ –î–µ–π—Å—Ç–≤–∏—è'),
                        React.createElement('div', { key: 'buttons', className: 'space-y-4' }, [
                            React.createElement(Button, {
                                key: 'explore',
                                variant: 'primary',
                                onClick: handleMainAction,
                                disabled: player.energy <= 0,
                                className: 'w-full h-16',
                                icon: 'üöÄ',
                                pulse: player.energy > 0
                            }, player.energy <= 0 ? '–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–Ω–µ—Ä–≥–∏–∏...' : '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å')
                        ])
                    ])
                ]);
            
            const renderBattle = () =>
                React.createElement('div', { className: 'space-y-6' }, [
                    React.createElement(Card, { key: 'battle', animated: true }, [
                        React.createElement('div', { key: 'mob', className: 'text-center mb-6' }, [
                            React.createElement('div', { key: 'emoji', className: 'text-6xl mb-4 animate-bounce' }, battle.emoji),
                            React.createElement('h3', { key: 'name', className: 'text-xl font-bold text-slate-800 mb-2' }, battle.name),
                            React.createElement('div', { key: 'hp', className: 'text-slate-600' }, `HP: ${battle.mobHp}/${battle.hp}`),
                            React.createElement(ProgressBar, {
                                key: 'hp-bar',
                                value: battle.mobHp,
                                max: battle.hp,
                                color: 'bg-gradient-to-r from-red-400 to-pink-500',
                                className: 'mt-3'
                            })
                        ]),
                        
                        React.createElement('div', { key: 'actions', className: 'space-y-4' }, [
                            React.createElement(Button, {
                                key: 'attack',
                                variant: 'danger',
                                onClick: () => handleBattleAction('attack'),
                                className: 'w-full h-16',
                                icon: '‚öîÔ∏è',
                                pulse: true
                            }, '–ê—Ç–∞–∫–æ–≤–∞—Ç—å!'),
                            
                            React.createElement(Button, {
                                key: 'flee',
                                variant: 'ghost',
                                onClick: () => {
                                    setBattle(null);
                                    setCurrentTab('main');
                                },
                                className: 'w-full',
                                icon: 'üèÉ'
                            }, '–ë–µ–∂–∞—Ç—å')
                        ])
                    ])
                ]);
            
            const renderInventory = () =>
                React.createElement('div', { className: 'space-y-8' }, [
                    React.createElement(Card, { key: 'inventory', animated: true }, [
                        React.createElement('h3', { key: 'title', className: 'text-lg font-bold text-slate-800 mb-6' }, 'üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å'),
                        
                        player.inventory.length === 0 ? 
                            React.createElement('div', { key: 'empty', className: 'text-center py-12 text-slate-400' }, [
                                React.createElement('div', { key: 'icon', className: 'text-6xl mb-4' }, 'üì¶'),
                                React.createElement('div', { key: 'text' }, '–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç')
                            ]) :
                            React.createElement('div', { key: 'items', className: 'space-y-4' }, 
                                player.inventory.map((item, index) =>
                                    React.createElement('div', {
                                        key: index,
                                        className: 'p-4 rounded-2xl bg-slate-50 animate-slideUp'
                                    }, [
                                        React.createElement('div', { key: 'content', className: 'flex justify-between items-center' }, [
                                            React.createElement('div', { key: 'info' }, [
                                                React.createElement('div', { key: 'name', className: 'font-bold text-slate-800' }, item.name),
                                                React.createElement('div', { key: 'type', className: 'text-sm text-slate-600' }, `${item.type} | ${item.rarity}`),
                                                React.createElement('div', { key: 'stats', className: 'text-xs text-slate-500' }, `‚öîÔ∏è${item.attack} üõ°Ô∏è${item.defense}`)
                                            ]),
                                            
                                            EQUIPMENT_SLOTS.includes(item.type) && 
                                                React.createElement(Button, {
                                                    key: 'equip',
                                                    variant: 'primary',
                                                    onClick: () => equipItem(item),
                                                    className: 'px-4 py-2 text-sm'
                                                }, '–≠–∫–∏–ø–∏—Ä–æ–≤–∞—Ç—å')
                                        ])
                                    ])
                                )
                            )
                    ])
                ]);
            
            const renderShop = () =>
                React.createElement('div', { className: 'space-y-8' }, [
                    React.createElement(Card, { key: 'shop', animated: true }, [
                        React.createElement('h3', { key: 'title', className: 'text-lg font-bold text-slate-800 mb-6' }, 'üè™ –ú–∞–≥–∞–∑–∏–Ω'),
                        
                        React.createElement('div', { key: 'items', className: 'space-y-4' }, 
                            shop.map((item, index) =>
                                React.createElement('div', {
                                    key: item.id,
                                    className: 'flex items-center justify-between p-4 rounded-2xl bg-slate-50 animate-slideUp'
                                }, [
                                    React.createElement('div', { key: 'info', className: 'flex-1' }, [
                                        React.createElement('div', { key: 'name', className: 'font-bold text-slate-800 mb-1' }, item.name),
                                        React.createElement('div', { key: 'stats', className: 'text-sm text-slate-600 mb-2' }, `‚öîÔ∏è${item.attack} üõ°Ô∏è${item.defense}`),
                                        React.createElement('div', { key: 'price', className: 'text-lg font-bold text-amber-600' }, `üí∞ ${item.price} –∑–æ–ª–æ—Ç–∞`)
                                    ]),
                                    React.createElement(Button, {
                                        key: 'buy',
                                        variant: player.gold >= item.price ? 'primary' : 'ghost',
                                        disabled: player.gold < item.price,
                                        onClick: () => buyItem(index),
                                        className: 'ml-4',
                                        pulse: player.gold >= item.price,
                                        icon: 'üõí'
                                    }, player.gold >= item.price ? '–ö—É–ø–∏—Ç—å' : '–î–æ—Ä–æ–≥–æ')
                                ])
                            )
                        )
                    ])
                ]);
            
            // –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–Ω–¥–µ—Ä
            return React.createElement('div', { className: 'min-h-screen bg-gradient-to-br from-slate-100 to-slate-200 relative overflow-hidden' }, [
                // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                notification && React.createElement('div', { 
                    key: 'notification',
                    className: 'fixed top-4 left-4 right-4 z-50 bg-white text-slate-800 p-3 rounded-2xl shadow-lg animate-slideUp text-center'
                }, notification),
                
                // –ü–ª–∞–≤–∞—é—â–∏–π —Ç–µ–∫—Å—Ç
                React.createElement('div', { key: 'floating', className: 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-40 pointer-events-none' },
                    floatingTexts.map(ft =>
                        React.createElement('div', {
                            key: ft.id,
                            className: `text-2xl font-bold ${ft.color}`,
                            style: { 
                                animation: 'fadeIn 2s ease-out forwards',
                                transform: `translateY(-${Math.random() * 100}px)`
                            }
                        }, ft.text)
                    )
                ),
                
                // –≠—Ñ—Ñ–µ–∫—Ç—ã
                React.createElement('div', { key: 'effects', className: 'absolute inset-0 overflow-hidden pointer-events-none' },
                    effects.map(effect =>
                        React.createElement('div', {
                            key: effect.id,
                            className: 'absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-6xl animate-sparkle'
                        }, '‚ú®')
                    )
                ),
                
                // –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç
                React.createElement('div', { key: 'content', className: 'relative z-10' }, [
                    React.createElement('div', { key: 'container', className: 'container mx-auto px-4 py-6 max-w-md' }, [
                        // –ó–∞–≥–æ–ª–æ–≤–æ–∫
                        React.createElement('div', { key: 'header', className: 'text-center mb-8' }, [
                            React.createElement('h1', { key: 'title', className: 'text-3xl font-bold text-slate-800 mb-2' }, '‚öîÔ∏è RPG Adventure'),
                            React.createElement('div', { key: 'stats', className: 'text-slate-600 text-sm' }, `–£—Ä–æ–≤–µ–Ω—å ${player.level} | üí∞ ${player.gold} –∑–æ–ª–æ—Ç–∞`)
                        ]),
                        
                        // –†–µ–Ω–¥–µ—Ä —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–∫–∏
                        currentTab === 'main' && renderMain(),
                        currentTab === 'battle' && renderBattle(),
                        currentTab === 'inventory' && renderInventory(),
                        currentTab === 'shop' && renderShop()
                    ]),
                    
                    // –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
                    currentTab !== 'battle' && React.createElement('div', { key: 'nav', className: 'fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200' },
                        React.createElement('div', { key: 'nav-content', className: 'flex' },
                            [
                                { key: 'main', icon: 'üè†', label: '–ì–ª–∞–≤–Ω–∞—è' },
                                { key: 'inventory', icon: 'üéí', label: '–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å' },
                                { key: 'shop', icon: 'üõí', label: '–ú–∞–≥–∞–∑–∏–Ω' }
                            ].map(tab =>
                                React.createElement('button', {
                                    key: tab.key,
                                    onClick: () => setCurrentTab(tab.key),
                                    className: `relative flex-1 py-3 px-1 text-center transition-all duration-300 ${
                                        currentTab === tab.key 
                                            ? 'text-violet-600 bg-violet-50 scale-105' 
                                            : 'text-slate-500 hover:text-slate-700'
                                    }`
                                }, [
                                    React.createElement('div', { key: 'icon', className: 'text-lg mb-1' }, tab.icon),
                                    React.createElement('div', { key: 'label', className: 'text-xs font-medium' }, tab.label)
                                ])
                            )
                        )
                    )
                ])
            ]);
        };
        
        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        ReactDOM.render(React.createElement(MinimalRPG), document.getElementById('root'));
    </script>
</body>
</html>