<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RPG –ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0.5) rotate(0deg); }
            50% { opacity: 1; transform: scale(1.2) rotate(180deg); }
        }
        
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px rgba(139, 92, 246, 0.5), 0 0 20px rgba(139, 92, 246, 0.3); }
            50% { box-shadow: 0 0 20px rgba(139, 92, 246, 0.8), 0 0 40px rgba(139, 92, 246, 0.5); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes shimmer {
            0% { background-position: -200px 0; }
            100% { background-position: calc(200px + 100%) 0; }
        }
        
        .animate-fadeIn { animation: fadeIn 0.5s ease-out; }
        .animate-slideUp { animation: slideUp 0.6s ease-out; }
        .animate-sparkle { animation: sparkle 1s ease-in-out infinite; }
        .animate-glow { animation: glow 2s ease-in-out infinite; }
        .animate-float { animation: float 3s ease-in-out infinite; }
        .animate-shimmer { 
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            background-size: 200px 100%;
            animation: shimmer 2s infinite;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-50 via-slate-100 to-slate-200 relative overflow-hidden">
    <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ–Ω -->
    <div class="absolute inset-0 opacity-20">
        <div class="absolute top-10 left-10 w-24 h-24 bg-gradient-to-r from-purple-400 to-pink-400 rounded-full animate-pulse blur-sm" style="animation-delay: 0s"></div>
        <div class="absolute top-40 right-20 w-20 h-20 bg-gradient-to-r from-blue-400 to-cyan-400 rounded-full animate-pulse blur-sm" style="animation-delay: 1s"></div>
        <div class="absolute bottom-40 left-20 w-16 h-16 bg-gradient-to-r from-green-400 to-emerald-400 rounded-full animate-pulse blur-sm" style="animation-delay: 2s"></div>
        <div class="absolute bottom-20 right-40 w-22 h-22 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full animate-pulse blur-sm" style="animation-delay: 3s"></div>
        <div class="absolute top-1/2 left-1/2 w-32 h-32 bg-gradient-to-r from-violet-300 to-purple-300 rounded-full animate-pulse blur-lg opacity-30" style="animation-delay: 4s"></div>
    </div>

    <!-- –•–µ–¥–µ—Ä -->
    <div class="bg-white/90 backdrop-blur-md border-b border-slate-200/50 sticky top-0 z-30 shadow-lg">
        <div class="flex items-center justify-between px-6 py-4">
            <div class="flex items-center gap-3">
                <div class="w-12 h-12 bg-gradient-to-r from-violet-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg">
                    <span class="text-white text-xl font-bold drop-shadow-md">‚öîÔ∏è</span>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-slate-800 drop-shadow-sm">RPG –ü—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ</h1>
                    <p class="text-sm text-slate-600">–£—Ä–æ–≤–µ–Ω—å <span id="player-level">1</span></p>
                </div>
            </div>
            
            <div class="flex items-center gap-4">
                <div class="flex items-center gap-2 bg-gradient-to-r from-yellow-100 to-yellow-50 px-4 py-2 rounded-xl shadow-md border border-yellow-200/50">
                    <span class="text-yellow-600 text-lg">üí∞</span>
                    <span class="font-bold text-yellow-700" id="player-gold">100</span>
                </div>
                <div class="flex items-center gap-2 bg-gradient-to-r from-blue-100 to-blue-50 px-4 py-2 rounded-xl shadow-md border border-blue-200/50">
                    <span class="text-blue-600 text-lg">‚≠ê</span>
                    <span class="font-bold text-blue-700" id="player-xp">0</span>
                </div>
            </div>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container mx-auto px-4 py-6 pb-40">
        <div id="main-content" class="space-y-8">
            <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
            <div id="main-screen" class="space-y-8">
                <!-- –°—Ç–∞—Ç—É—Å –∏–≥—Ä–æ–∫–∞ -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-lg border border-slate-200/50 p-6 transition-all duration-300 relative animate-fadeIn">
                    <div class="absolute inset-0 bg-gradient-to-br from-white/50 to-transparent rounded-3xl pointer-events-none"></div>
                    <div class="relative z-10">
                        <div class="flex items-center justify-between mb-6">
                            <div>
                                <h2 class="text-2xl font-bold text-slate-800 drop-shadow-sm">–ì–µ—Ä–æ–π</h2>
                                <div class="text-slate-600 font-medium">–£—Ä–æ–≤–µ–Ω—å <span id="hero-level">1</span></div>
                            </div>
                            <div class="text-4xl animate-float drop-shadow-lg">‚öîÔ∏è</div>
                        </div>
                        
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between text-sm text-slate-600 mb-1">
                                    <span>–û–ø—ã—Ç</span>
                                    <span><span id="current-xp">0</span>/<span id="max-xp">100</span></span>
                                </div>
                                <div class="w-full bg-slate-200/50 rounded-full h-3 overflow-hidden shadow-inner">
                                    <div id="xp-bar" class="h-full bg-gradient-to-r from-blue-400 to-blue-600 transition-all duration-500 ease-out rounded-full relative" style="width: 0%">
                                        <div class="absolute inset-0 bg-white/20 rounded-full animate-pulse"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <div class="flex justify-between text-sm text-slate-600 mb-1">
                                    <span>–ó–¥–æ—Ä–æ–≤—å–µ</span>
                                    <span><span id="current-hp">100</span>/<span id="max-hp">100</span></span>
                                </div>
                                <div class="w-full bg-slate-200/50 rounded-full h-3 overflow-hidden shadow-inner">
                                    <div id="hp-bar" class="h-full bg-gradient-to-r from-red-400 to-pink-500 transition-all duration-500 ease-out rounded-full relative" style="width: 100%">
                                        <div class="absolute inset-0 bg-white/20 rounded-full animate-pulse"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div>
                                <div class="flex justify-between text-sm text-slate-600 mb-1">
                                    <span>–≠–Ω–µ—Ä–≥–∏—è</span>
                                    <span><span id="current-energy">10</span>/<span id="max-energy">10</span></span>
                                </div>
                                <div class="w-full bg-slate-200/50 rounded-full h-3 overflow-hidden shadow-inner">
                                    <div id="energy-bar" class="h-full bg-gradient-to-r from-green-400 to-emerald-500 transition-all duration-500 ease-out rounded-full relative" style="width: 100%">
                                        <div class="absolute inset-0 bg-white/20 rounded-full animate-pulse"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex justify-between items-center bg-gradient-to-r from-yellow-50 to-yellow-100 p-3 rounded-xl">
                                <span class="text-slate-600 font-medium">–ó–æ–ª–æ—Ç–æ</span>
                                <span class="text-2xl font-bold text-yellow-600 drop-shadow-sm">üí∞ <span id="gold-display">100</span></span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –û—Å–Ω–æ–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-lg border border-slate-200/50 p-6 transition-all duration-300 relative animate-fadeIn">
                    <div class="absolute inset-0 bg-gradient-to-br from-white/50 to-transparent rounded-3xl pointer-events-none"></div>
                    <div class="relative z-10">
                        <h3 class="text-lg font-bold text-slate-800 mb-4">üéØ –î–µ–π—Å—Ç–≤–∏—è</h3>
                        <div class="grid grid-cols-2 gap-4">
                            <button id="explore-btn" class="font-semibold rounded-2xl transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2 relative overflow-hidden backdrop-blur-sm bg-gradient-to-r from-violet-500 to-purple-600 text-white hover:from-violet-600 hover:to-purple-700 shadow-lg hover:shadow-2xl border border-violet-400/20 px-6 py-3 text-base hover:scale-105 hover:-translate-y-0.5 h-16">
                                <div class="absolute inset-0 bg-white/10 opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                                <span class="text-xl drop-shadow-sm">üöÄ</span>
                                <span class="drop-shadow-sm">–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å</span>
                            </button>
                            
                            <button id="inventory-btn" class="font-semibold rounded-2xl transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2 relative overflow-hidden backdrop-blur-sm bg-gradient-to-r from-slate-100/80 to-slate-200/80 text-slate-700 hover:from-slate-200/90 hover:to-slate-300/90 shadow-md hover:shadow-lg border border-slate-300/40 px-6 py-3 text-base hover:scale-105 hover:-translate-y-0.5 h-16">
                                <div class="absolute inset-0 bg-white/10 opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                                <span class="text-xl drop-shadow-sm">üéí</span>
                                <span class="drop-shadow-sm">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</span>
                            </button>
                            
                            <button id="shop-btn" class="font-semibold rounded-2xl transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2 relative overflow-hidden backdrop-blur-sm bg-gradient-to-r from-slate-100/80 to-slate-200/80 text-slate-700 hover:from-slate-200/90 hover:to-slate-300/90 shadow-md hover:shadow-lg border border-slate-300/40 px-6 py-3 text-base hover:scale-105 hover:-translate-y-0.5 h-16">
                                <div class="absolute inset-0 bg-white/10 opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                                <span class="text-xl drop-shadow-sm">üõí</span>
                                <span class="drop-shadow-sm">–ú–∞–≥–∞–∑–∏–Ω</span>
                            </button>
                            
                            <button id="skills-btn" class="font-semibold rounded-2xl transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2 relative overflow-hidden backdrop-blur-sm bg-gradient-to-r from-slate-100/80 to-slate-200/80 text-slate-700 hover:from-slate-200/90 hover:to-slate-300/90 shadow-md hover:shadow-lg border border-slate-300/40 px-6 py-3 text-base hover:scale-105 hover:-translate-y-0.5 h-16">
                                <div class="absolute inset-0 bg-white/10 opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                                <span class="text-xl drop-shadow-sm">üìä</span>
                                <span class="drop-shadow-sm">–ù–∞–≤—ã–∫–∏</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –±–æ—è -->
            <div id="battle-screen" class="space-y-8 hidden">
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-lg border border-slate-200/50 p-6 transition-all duration-300 relative animate-fadeIn">
                    <div class="absolute inset-0 bg-gradient-to-br from-white/50 to-transparent rounded-3xl pointer-events-none"></div>
                    <div class="relative z-10">
                        <h3 class="text-lg font-bold text-slate-800 mb-4">‚öîÔ∏è –ë–æ–π</h3>
                        <div class="text-center">
                            <div class="text-4xl mb-4">üëπ</div>
                            <h4 class="text-xl font-bold mb-2" id="mob-name">–í—Ä–∞–≥</h4>
                            <div class="w-full bg-slate-200/50 rounded-full h-3 overflow-hidden shadow-inner">
                                <div id="mob-hp-bar" class="h-full bg-gradient-to-r from-red-500 to-red-600 transition-all duration-500 ease-out rounded-full relative" style="width: 100%">
                                    <div class="absolute inset-0 bg-white/20 rounded-full animate-pulse"></div>
                                </div>
                            </div>
                            <div class="text-sm text-slate-600 mt-2"><span id="mob-hp">0</span>/<span id="mob-max-hp">0</span> HP</div>
                        </div>
                        
                        <div class="flex justify-center gap-4 mt-6">
                            <button id="attack-btn" class="font-semibold rounded-2xl transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2 relative overflow-hidden backdrop-blur-sm bg-gradient-to-r from-red-500 to-red-600 text-white hover:from-red-600 hover:to-red-700 shadow-lg hover:shadow-2xl border border-red-400/20 px-6 py-3 text-base hover:scale-105 hover:-translate-y-0.5">
                                <div class="absolute inset-0 bg-white/10 opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                                <span class="text-xl drop-shadow-sm">‚öîÔ∏è</span>
                                <span class="drop-shadow-sm">–ê—Ç–∞–∫–æ–≤–∞—Ç—å</span>
                            </button>
                            <button id="flee-btn" class="font-semibold rounded-2xl transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2 relative overflow-hidden backdrop-blur-sm bg-gradient-to-r from-slate-100/80 to-slate-200/80 text-slate-700 hover:from-slate-200/90 hover:to-slate-300/90 shadow-md hover:shadow-lg border border-slate-300/40 px-6 py-3 text-base hover:scale-105 hover:-translate-y-0.5">
                                <div class="absolute inset-0 bg-white/10 opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                                <span class="text-xl drop-shadow-sm">üèÉ</span>
                                <span class="drop-shadow-sm">–°–±–µ–∂–∞—Ç—å</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è -->
            <div id="inventory-screen" class="space-y-8 hidden">
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-lg border border-slate-200/50 p-6 transition-all duration-300 relative animate-fadeIn">
                    <div class="absolute inset-0 bg-gradient-to-br from-white/50 to-transparent rounded-3xl pointer-events-none"></div>
                    <div class="relative z-10">
                        <h3 class="text-lg font-bold text-slate-800 mb-6">üéí –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</h3>
                        <div id="inventory-content">
                            <div class="text-center py-12 text-slate-400">
                                <div class="text-6xl mb-4 animate-float">üéí</div>
                                <div>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –º–∞–≥–∞–∑–∏–Ω–∞ -->
            <div id="shop-screen" class="space-y-8 hidden">
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-lg border border-slate-200/50 p-6 transition-all duration-300 relative animate-fadeIn">
                    <div class="absolute inset-0 bg-gradient-to-br from-white/50 to-transparent rounded-3xl pointer-events-none"></div>
                    <div class="relative z-10">
                        <h3 class="text-lg font-bold text-slate-800 mb-6">üõí –ú–∞–≥–∞–∑–∏–Ω</h3>
                        <div id="shop-content" class="space-y-4">
                            <!-- –¢–æ–≤–∞—Ä—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –Ω–∞–≤—ã–∫–æ–≤ -->
            <div id="skills-screen" class="space-y-8 hidden">
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-lg border border-slate-200/50 p-6 transition-all duration-300 relative animate-fadeIn">
                    <div class="absolute inset-0 bg-gradient-to-br from-white/50 to-transparent rounded-3xl pointer-events-none"></div>
                    <div class="relative z-10">
                        <h3 class="text-lg font-bold text-slate-800 mb-6">üåü –ù–∞–≤—ã–∫–∏</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div class="p-4 bg-red-50 rounded-xl">
                                <div class="text-2xl mb-2">‚öîÔ∏è</div>
                                <h4 class="font-bold text-red-700">–ë–æ–µ–≤—ã–µ –Ω–∞–≤—ã–∫–∏</h4>
                                <p class="text-sm text-red-600">–£–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —É—Ä–æ–Ω –∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —à–∞–Ω—Å</p>
                            </div>
                            <div class="p-4 bg-blue-50 rounded-xl">
                                <div class="text-2xl mb-2">üõ°Ô∏è</div>
                                <h4 class="font-bold text-blue-700">–ó–∞—â–∏—Ç–Ω—ã–µ –Ω–∞–≤—ã–∫–∏</h4>
                                <p class="text-sm text-blue-600">–£–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –∑–¥–æ—Ä–æ–≤—å–µ –∏ –±—Ä–æ–Ω—é</p>
                            </div>
                            <div class="p-4 bg-green-50 rounded-xl">
                                <div class="text-2xl mb-2">üèÉ</div>
                                <h4 class="font-bold text-green-700">–ù–∞–≤—ã–∫–∏ –ª–æ–≤–∫–æ—Å—Ç–∏</h4>
                                <p class="text-sm text-green-600">–£–≤–µ–ª–∏—á–∏–≤–∞—é—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –∏ —É–∫–ª–æ–Ω–µ–Ω–∏–µ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –≠–∫—Ä–∞–Ω –∫–≤–µ—Å—Ç–æ–≤ -->
            <div id="quests-screen" class="space-y-8 hidden">
                <div class="bg-white/90 backdrop-blur-sm rounded-3xl shadow-lg border border-slate-200/50 p-6 transition-all duration-300 relative animate-fadeIn">
                    <div class="absolute inset-0 bg-gradient-to-br from-white/50 to-transparent rounded-3xl pointer-events-none"></div>
                    <div class="relative z-10">
                        <h3 class="text-lg font-bold text-slate-800 mb-6">üìú –ö–≤–µ—Å—Ç—ã</h3>
                        
                        <!-- –í–∫–ª–∞–¥–∫–∏ –∫–≤–µ—Å—Ç–æ–≤ -->
                        <div class="flex gap-2 mb-6">
                            <button id="daily-quests-btn" class="px-4 py-2 bg-gradient-to-r from-violet-500 to-purple-600 text-white rounded-xl font-medium shadow-md">
                                –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ
                            </button>
                            <button id="main-quests-btn" class="px-4 py-2 bg-slate-200 text-slate-600 rounded-xl font-medium hover:bg-slate-300 transition-colors">
                                –û—Å–Ω–æ–≤–Ω—ã–µ
                            </button>
                            <button id="achievements-btn" class="px-4 py-2 bg-slate-200 text-slate-600 rounded-xl font-medium hover:bg-slate-300 transition-colors">
                                –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                            </button>
                        </div>

                        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –∫–≤–µ—Å—Ç–æ–≤ -->
                        <div id="quests-content">
                            <div id="daily-quests" class="space-y-4">
                                <div class="p-4 bg-blue-50 rounded-xl border border-blue-200">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <h4 class="font-bold text-blue-800">–£–±–∏—Ç—å 3 –º–æ–Ω—Å—Ç—Ä–æ–≤</h4>
                                            <p class="text-sm text-blue-600">–ü–æ–±–µ–¥–∏—Ç–µ 3 —Å—É—â–µ—Å—Ç–≤–∞ –≤ –±–æ—é</p>
                                            <div class="mt-2 text-xs text-blue-500">
                                                –ü—Ä–æ–≥—Ä–µ—Å—Å: <span id="kill-progress">0</span>/3
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <div class="text-sm font-medium text-blue-700">–ù–∞–≥—Ä–∞–¥–∞:</div>
                                            <div class="text-xs text-blue-600">‚≠ê 50 –æ–ø—ã—Ç–∞</div>
                                            <div class="text-xs text-blue-600">üí∞ 25 –∑–æ–ª–æ—Ç–∞</div>
                                        </div>
                                    </div>
                                    <div class="mt-3 w-full bg-blue-200 rounded-full h-2">
                                        <div id="kill-progress-bar" class="bg-blue-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                                    </div>
                                </div>

                                <div class="p-4 bg-green-50 rounded-xl border border-green-200">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <h4 class="font-bold text-green-800">–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å 5 —Ä–∞–∑</h4>
                                            <p class="text-sm text-green-600">–°–æ–≤–µ—Ä—à–∏—Ç–µ 5 –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –º–∏—Ä–∞</p>
                                            <div class="mt-2 text-xs text-green-500">
                                                –ü—Ä–æ–≥—Ä–µ—Å—Å: <span id="explore-progress">0</span>/5
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <div class="text-sm font-medium text-green-700">–ù–∞–≥—Ä–∞–¥–∞:</div>
                                            <div class="text-xs text-green-600">‚≠ê 30 –æ–ø—ã—Ç–∞</div>
                                            <div class="text-xs text-green-600">üí∞ 15 –∑–æ–ª–æ—Ç–∞</div>
                                        </div>
                                    </div>
                                    <div class="mt-3 w-full bg-green-200 rounded-full h-2">
                                        <div id="explore-progress-bar" class="bg-green-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                                    </div>
                                </div>

                                <div class="p-4 bg-yellow-50 rounded-xl border border-yellow-200">
                                    <div class="flex items-center justify-between">
                                        <div>
                                            <h4 class="font-bold text-yellow-800">–°–æ–±—Ä–∞—Ç—å 100 –∑–æ–ª–æ—Ç–∞</h4>
                                            <p class="text-sm text-yellow-600">–ù–∞–∫–æ–ø–∏—Ç–µ 100 –∑–æ–ª–æ—Ç—ã—Ö –º–æ–Ω–µ—Ç</p>
                                            <div class="mt-2 text-xs text-yellow-500">
                                                –ü—Ä–æ–≥—Ä–µ—Å—Å: <span id="gold-progress">0</span>/100
                                            </div>
                                        </div>
                                        <div class="text-right">
                                            <div class="text-sm font-medium text-yellow-700">–ù–∞–≥—Ä–∞–¥–∞:</div>
                                            <div class="text-xs text-yellow-600">‚≠ê 40 –æ–ø—ã—Ç–∞</div>
                                            <div class="text-xs text-yellow-600">üí∞ 20 –∑–æ–ª–æ—Ç–∞</div>
                                        </div>
                                    </div>
                                    <div class="mt-3 w-full bg-yellow-200 rounded-full h-2">
                                        <div id="gold-progress-bar" class="bg-yellow-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                                    </div>
                                </div>
                            </div>

                            <div id="main-quests" class="space-y-4 hidden">
                                <div class="text-center py-12 text-slate-400">
                                    <div class="text-6xl mb-4 animate-float">üè∞</div>
                                    <div class="text-lg font-medium mb-2">–û—Å–Ω–æ–≤–Ω—ã–µ –∫–≤–µ—Å—Ç—ã</div>
                                    <div class="text-sm">–°–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è —ç–ø–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è!</div>
                                </div>
                            </div>

                            <div id="achievements" class="space-y-4 hidden">
                                <div class="text-center py-12 text-slate-400">
                                    <div class="text-6xl mb-4 animate-float">üèÜ</div>
                                    <div class="text-lg font-medium mb-2">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
                                    <div class="text-sm">–í–∞—à–∏ –ø–æ–¥–≤–∏–≥–∏ –±—É–¥—É—Ç –æ—Ç–º–µ—á–µ–Ω—ã –∑–¥–µ—Å—å!</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notification" class="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 max-w-sm w-full mx-auto px-4 hidden">
        <div class="bg-white/95 backdrop-blur-md text-slate-800 px-6 py-4 rounded-2xl shadow-2xl border border-slate-200/50 animate-slideUp font-medium text-center relative overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-r from-violet-100/50 via-transparent to-purple-100/50 animate-shimmer"></div>
            <div class="relative z-10" id="notification-text"></div>
        </div>
    </div>

    <!-- –õ–µ—Ç—è—â–∏–µ —Ç–µ–∫—Å—Ç—ã -->
    <div id="floating-texts"></div>

    <!-- –≠—Ñ—Ñ–µ–∫—Ç—ã -->
    <div id="effects"></div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <div class="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-slate-200/50 z-40 shadow-2xl">
        <div class="flex justify-around items-center py-3 px-4">
            <button id="nav-main" class="flex flex-col items-center py-2 px-3 rounded-xl transition-all duration-300 relative bg-gradient-to-t from-violet-100 to-violet-50 text-violet-700 scale-110 shadow-lg">
                <div class="absolute -top-1 left-1/2 transform -translate-x-1/2 w-6 h-1 bg-gradient-to-r from-violet-500 to-purple-500 rounded-full"></div>
                <span class="text-xl mb-1 drop-shadow-sm">üè†</span>
                <span class="text-xs font-medium">–ì–ª–∞–≤–Ω–∞—è</span>
            </button>
            <button id="nav-inventory" class="flex flex-col items-center py-2 px-3 rounded-xl transition-all duration-300 relative text-slate-600 hover:text-slate-800 hover:bg-slate-100/80 hover:scale-105">
                <span class="text-xl mb-1 drop-shadow-sm">üéí</span>
                <span class="text-xs font-medium">–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å</span>
            </button>
            <button id="nav-shop" class="flex flex-col items-center py-2 px-3 rounded-xl transition-all duration-300 relative text-slate-600 hover:text-slate-800 hover:bg-slate-100/80 hover:scale-105">
                <span class="text-xl mb-1 drop-shadow-sm">üõí</span>
                <span class="text-xs font-medium">–ú–∞–≥–∞–∑–∏–Ω</span>
            </button>
            <button id="nav-skills" class="flex flex-col items-center py-2 px-3 rounded-xl transition-all duration-300 relative text-slate-600 hover:text-slate-800 hover:bg-slate-100/80 hover:scale-105">
                <span class="text-xl mb-1 drop-shadow-sm">üåü</span>
                <span class="text-xs font-medium">–ù–∞–≤—ã–∫–∏</span>
            </button>
            <button id="nav-quests" class="flex flex-col items-center py-2 px-3 rounded-xl transition-all duration-300 relative text-slate-600 hover:text-slate-800 hover:bg-slate-100/80 hover:scale-105">
                <span class="text-xl mb-1 drop-shadow-sm">üìú</span>
                <span class="text-xs font-medium">–ö–≤–µ—Å—Ç—ã</span>
            </button>
        </div>
    </div>

    <script type="module">
        // –ò–≥—Ä–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
        const MOBS = [
            {name: "–ì–æ–±–ª–∏–Ω", hp: 8, attack: 3, tier: "low", xp_reward: 5, gold_reward: 3},
            {name: "–û—Ä–∫", hp: 15, attack: 5, tier: "mid", xp_reward: 8, gold_reward: 5},
            {name: "–î—Ä–∞–∫–æ–Ω", hp: 25, attack: 8, tier: "high", xp_reward: 15, gold_reward: 10}
        ];

        const EQUIPMENT_SLOTS = ["weapon", "armor", "helmet", "boots", "belt"];
        const RARITIES = ["–û–±—ã—á–Ω—ã–π", "–†–µ–¥–∫–∏–π", "–≠–ø–∏—á–µ—Å–∫–∏–π", "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π"];

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        let gameState = {
            player: {
                username: '–ì–µ—Ä–æ–π',
                level: 1,
                xp: 0,
                gold: 100,
                hp: 100,
                maxHp: 100,
                energy: 10,
                maxEnergy: 10,
                inventory: [],
                stats: {mobsKilled: 0, chestsOpened: 0, questsCompleted: 0}
            },
            currentTab: 'main',
            battle: null,
            shop: [],
            quests: {
                dailyQuests: [
                    { id: 'kill', title: '–£–±–∏—Ç—å 3 –º–æ–Ω—Å—Ç—Ä–æ–≤', target: 3, progress: 0, reward: { xp: 50, gold: 25 } },
                    { id: 'explore', title: '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å 5 —Ä–∞–∑', target: 5, progress: 0, reward: { xp: 30, gold: 15 } },
                    { id: 'gold', title: '–°–æ–±—Ä–∞—Ç—å 100 –∑–æ–ª–æ—Ç–∞', target: 100, progress: 0, reward: { xp: 40, gold: 20 } }
                ]
            }
        };

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
        function saveGame() {
            localStorage.setItem('rpgGame', JSON.stringify(gameState));
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ localStorage
        function loadGame() {
            const saved = localStorage.getItem('rpgGame');
            if (saved) {
                gameState = {...gameState, ...JSON.parse(saved)};
            }
        }

        // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞
        function generateRandomItem(rarity) {
            const prefixes = ['–û—Å—Ç—Ä—ã–π', '–ú–æ—â–Ω—ã–π', '–î—Ä–µ–≤–Ω–∏–π', '–ü—Ä–æ–∫–ª—è—Ç—ã–π', '–ë–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–Ω—ã–π'];
            const weapons = ['–º–µ—á', '—Ç–æ–ø–æ—Ä', '–ª—É–∫', '–ø–æ—Å–æ—Ö', '–∫–∏–Ω–∂–∞–ª'];
            const armors = ['–±—Ä–æ–Ω—è', '–º–∞–Ω—Ç–∏—è', '–∫–æ–ª—å—á—É–≥–∞', '—Ä–æ–±–∞', '–∂–∏–ª–µ—Ç'];
            
            const type = Math.random() < 0.4 ? 'weapon' : EQUIPMENT_SLOTS[Math.floor(Math.random() * EQUIPMENT_SLOTS.length)];
            const items = type === 'weapon' ? weapons : armors;
            const name = `${prefixes[Math.floor(Math.random() * prefixes.length)]} ${items[Math.floor(Math.random() * items.length)]}`;
            
            const multiplier = {
                '–û–±—ã—á–Ω—ã–π': 1, '–†–µ–¥–∫–∏–π': 2, '–≠–ø–∏—á–µ—Å–∫–∏–π': 3, '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π': 5
            }[rarity];
            
            return {
                id: Date.now() + Math.random(),
                name,
                type,
                rarity,
                attack: type === 'weapon' ? Math.floor(Math.random() * 10 + 1) * multiplier : 0,
                defense: type !== 'weapon' ? Math.floor(Math.random() * 8 + 1) * multiplier : 0,
                price: Math.floor(Math.random() * 50 + 20) * multiplier
            };
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–∞
        function initializeShop() {
            if (gameState.shop.length === 0) {
                const rarities = ['–û–±—ã—á–Ω—ã–π', '–û–±—ã—á–Ω—ã–π', '–†–µ–¥–∫–∏–π', '–†–µ–¥–∫–∏–π', '–≠–ø–∏—á–µ—Å–∫–∏–π', '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π'];
                for (let i = 0; i < 6; i++) {
                    const rarity = rarities[Math.floor(Math.random() * rarities.length)];
                    gameState.shop.push(generateRandomItem(rarity));
                }
            }
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message) {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notification-text');
            
            notificationText.textContent = message;
            notification.classList.remove('hidden');
            
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 3000);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –ª–µ—Ç—è—â–∏–π —Ç–µ–∫—Å—Ç
        function showFloatingText(text, color = 'text-blue-500') {
            const floatingTexts = document.getElementById('floating-texts');
            const textElement = document.createElement('div');
            textElement.className = `fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 ${color} font-bold text-2xl animate-slideUp pointer-events-none z-40`;
            textElement.textContent = text;
            
            floatingTexts.appendChild(textElement);
            
            setTimeout(() => {
                textElement.remove();
            }, 2000);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç
        function showEffect(type) {
            const effects = document.getElementById('effects');
            const effectElement = document.createElement('div');
            effectElement.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-6xl animate-sparkle pointer-events-none z-40';
            effectElement.textContent = '‚ú®';
            
            effects.appendChild(effectElement);
            
            setTimeout(() => {
                effectElement.remove();
            }, 1000);
        }

        // –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–æ–≤
        function updateQuestProgress(type, amount = 1) {
            const quest = gameState.quests.dailyQuests.find(q => q.id === type);
            if (quest && quest.progress < quest.target) {
                quest.progress = Math.min(quest.target, quest.progress + amount);
                
                // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–∞
                if (quest.progress >= quest.target) {
                    showNotification(`–ö–≤–µ—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω: ${quest.title}!`);
                    gameState.player.xp += quest.reward.xp;
                    gameState.player.gold += quest.reward.gold;
                    showFloatingText(`+${quest.reward.xp} XP`, 'text-blue-500');
                    showFloatingText(`+${quest.reward.gold} –∑–æ–ª–æ—Ç–∞`, 'text-yellow-500');
                    showEffect('sparkle');
                }
                
                updateQuestsDisplay();
                saveGame();
            }
        }

        // –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–≤–µ—Å—Ç–æ–≤
        function updateQuestsDisplay() {
            const quests = gameState.quests.dailyQuests;
            
            // –ö–≤–µ—Å—Ç —É–±–∏–π—Å—Ç–≤–∞
            const killQuest = quests.find(q => q.id === 'kill');
            if (killQuest) {
                document.getElementById('kill-progress').textContent = killQuest.progress;
                document.getElementById('kill-progress-bar').style.width = `${(killQuest.progress / killQuest.target) * 100}%`;
            }
            
            // –ö–≤–µ—Å—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
            const exploreQuest = quests.find(q => q.id === 'explore');
            if (exploreQuest) {
                document.getElementById('explore-progress').textContent = exploreQuest.progress;
                document.getElementById('explore-progress-bar').style.width = `${(exploreQuest.progress / exploreQuest.target) * 100}%`;
            }
            
            // –ö–≤–µ—Å—Ç –∑–æ–ª–æ—Ç–∞
            const goldQuest = quests.find(q => q.id === 'gold');
            if (goldQuest) {
                document.getElementById('gold-progress').textContent = goldQuest.progress;
                document.getElementById('gold-progress-bar').style.width = `${(goldQuest.progress / goldQuest.target) * 100}%`;
            }
        }

        // –û–±–Ω–æ–≤–∏—Ç—å UI
        function updateUI() {
            const player = gameState.player;
            
            // –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—ã –≤ —Ö–µ–¥–µ—Ä–µ
            document.getElementById('player-level').textContent = player.level;
            document.getElementById('player-gold').textContent = player.gold;
            document.getElementById('player-xp').textContent = player.xp;
            
            // –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—ã –≥–µ—Ä–æ—è
            document.getElementById('hero-level').textContent = player.level;
            document.getElementById('current-xp').textContent = player.xp;
            document.getElementById('max-xp').textContent = player.level * 100;
            document.getElementById('current-hp').textContent = player.hp;
            document.getElementById('max-hp').textContent = player.maxHp;
            document.getElementById('current-energy').textContent = player.energy;
            document.getElementById('max-energy').textContent = player.maxEnergy;
            document.getElementById('gold-display').textContent = player.gold;
            
            // –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã
            document.getElementById('xp-bar').style.width = `${(player.xp / (player.level * 100)) * 100}%`;
            document.getElementById('hp-bar').style.width = `${(player.hp / player.maxHp) * 100}%`;
            document.getElementById('energy-bar').style.width = `${(player.energy / player.maxEnergy) * 100}%`;
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
            const exploreBtn = document.getElementById('explore-btn');
            if (player.energy <= 0) {
                exploreBtn.disabled = true;
                exploreBtn.classList.add('opacity-50', 'cursor-not-allowed');
                exploreBtn.classList.remove('hover:scale-105', 'hover:-translate-y-0.5');
            } else {
                exploreBtn.disabled = false;
                exploreBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                exploreBtn.classList.add('hover:scale-105', 'hover:-translate-y-0.5');
            }
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∫–≤–µ—Å—Ç—ã
            updateQuestsDisplay();
        }

        // –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
        function updateInventory() {
            const inventoryContent = document.getElementById('inventory-content');
            
            if (gameState.player.inventory.length === 0) {
                inventoryContent.innerHTML = `
                    <div class="text-center py-12 text-slate-400">
                        <div class="text-6xl mb-4 animate-float">üéí</div>
                        <div>–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ø—É—Å—Ç</div>
                    </div>
                `;
            } else {
                const itemsHTML = gameState.player.inventory.map((item, index) => `
                    <div class="p-4 rounded-2xl bg-slate-50 animate-slideUp" style="animation-delay: ${index * 0.1}s">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-bold text-slate-800">${item.name}</div>
                                <div class="text-sm text-slate-600">${item.type} | ${item.rarity}</div>
                                <div class="text-xs text-slate-500">
                                    ${item.attack > 0 ? `‚öîÔ∏è${item.attack} ` : ''}
                                    ${item.defense > 0 ? `üõ°Ô∏è${item.defense}` : ''}
                                </div>
                            </div>
                            <button class="font-semibold rounded-2xl transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2 relative overflow-hidden backdrop-blur-sm bg-gradient-to-r from-violet-500 to-purple-600 text-white hover:from-violet-600 hover:to-purple-700 shadow-lg hover:shadow-2xl border border-violet-400/20 px-4 py-2 text-sm hover:scale-105 hover:-translate-y-0.5">
                                <div class="absolute inset-0 bg-white/10 opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                                <span class="drop-shadow-sm">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å</span>
                            </button>
                        </div>
                    </div>
                `).join('');
                
                inventoryContent.innerHTML = `<div class="space-y-4">${itemsHTML}</div>`;
            }
        }

        // –û–±–Ω–æ–≤–∏—Ç—å –º–∞–≥–∞–∑–∏–Ω
        function updateShop() {
            const shopContent = document.getElementById('shop-content');
            
            const itemsHTML = gameState.shop.map((item, index) => `
                <div class="p-4 rounded-2xl bg-slate-50 animate-slideUp" style="animation-delay: ${index * 0.1}s">
                    <div class="flex justify-between items-center">
                        <div>
                            <div class="font-bold text-slate-800">${item.name}</div>
                            <div class="text-sm text-slate-600">${item.type} | ${item.rarity}</div>
                            <div class="text-xs text-slate-500">
                                ${item.attack > 0 ? `‚öîÔ∏è${item.attack} ` : ''}
                                ${item.defense > 0 ? `üõ°Ô∏è${item.defense}` : ''}
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-lg font-bold text-yellow-600">${item.price}üí∞</div>
                            <button onclick="buyItem(${index})" ${gameState.player.gold < item.price ? 'disabled' : ''} class="font-semibold rounded-2xl transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2 relative overflow-hidden backdrop-blur-sm bg-gradient-to-r from-violet-500 to-purple-600 text-white hover:from-violet-600 hover:to-purple-700 shadow-lg hover:shadow-2xl border border-violet-400/20 px-4 py-2 text-sm hover:scale-105 hover:-translate-y-0.5 ${gameState.player.gold < item.price ? 'opacity-50 cursor-not-allowed' : ''}">
                                <div class="absolute inset-0 bg-white/10 opacity-0 hover:opacity-100 transition-opacity duration-300"></div>
                                <span class="drop-shadow-sm">–ö—É–ø–∏—Ç—å</span>
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
            
            shopContent.innerHTML = itemsHTML;
        }

        // –ö—É–ø–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç
        function buyItem(index) {
            const item = gameState.shop[index];
            if (gameState.player.gold >= item.price) {
                gameState.player.gold -= item.price;
                gameState.player.inventory.push(item);
                gameState.shop.splice(index, 1);
                
                showNotification(`–ö—É–ø–ª–µ–Ω–æ: ${item.name}!`);
                updateUI();
                updateShop();
                saveGame();
            }
        }

        // –ì–ª–∞–≤–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ - –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
        function handleMainAction() {
            if (gameState.player.energy <= 0) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç–Ω–µ—Ä–≥–∏–∏!');
                return;
            }

            const random = Math.random();
            gameState.player.energy -= 1;
            
            // –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–∞ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
            updateQuestProgress('explore');
            
            if (random < 0.4) {
                // –í—Å—Ç—Ä–µ—á–∞ —Å –º–æ–±–æ–º
                const mob = MOBS[Math.floor(Math.random() * MOBS.length)];
                gameState.battle = { ...mob, mobHp: mob.hp };
                switchTab('battle');
                showNotification(`–í—Å—Ç—Ä–µ—á–∞ —Å ${mob.name}!`);
            } else if (random < 0.7) {
                // –ù–∞–π—Ç–∏ –∑–æ–ª–æ—Ç–æ
                const gold = Math.floor(Math.random() * 30) + 10;
                gameState.player.gold += gold;
                showFloatingText(`+${gold} –∑–æ–ª–æ—Ç–∞`, 'text-yellow-500');
                showNotification(`–ù–∞–π–¥–µ–Ω–æ ${gold} –∑–æ–ª–æ—Ç–∞!`);
                
                // –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–∞ –∑–æ–ª–æ—Ç–∞
                updateQuestProgress('gold', gold);
            } else {
                // –ù–∞–π—Ç–∏ –ø—Ä–µ–¥–º–µ—Ç
                const rarity = RARITIES[Math.floor(Math.random() * RARITIES.length)];
                const item = generateRandomItem(rarity);
                gameState.player.inventory.push(item);
                showFloatingText(`${item.name}`, 'text-purple-500');
                showNotification(`–ù–∞–π–¥–µ–Ω ${item.name}!`);
                showEffect('sparkle');
            }
            
            // –ü–æ–≤—ã—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è
            const xpGained = Math.floor(Math.random() * 10) + 5;
            gameState.player.xp += xpGained;
            
            const xpForNextLevel = gameState.player.level * 100;
            if (gameState.player.xp >= xpForNextLevel) {
                gameState.player.level += 1;
                gameState.player.xp -= xpForNextLevel;
                gameState.player.maxHp += 20;
                gameState.player.hp = gameState.player.maxHp;
                gameState.player.maxEnergy += 1;
                gameState.player.energy = gameState.player.maxEnergy;
                
                showNotification(`–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –î–æ—Å—Ç–∏–≥–Ω—É—Ç ${gameState.player.level} —É—Ä–æ–≤–µ–Ω—å!`);
            }
            
            if (xpGained > 0) {
                showFloatingText(`‚≠ê +${xpGained} XP`, 'text-violet-500');
            }
            
            updateUI();
            saveGame();
        }

        // –û–±–Ω–æ–≤–∏—Ç—å UI –±–æ—è
        function updateBattleUI() {
            if (gameState.battle) {
                document.getElementById('mob-name').textContent = gameState.battle.name;
                document.getElementById('mob-hp').textContent = gameState.battle.mobHp;
                document.getElementById('mob-max-hp').textContent = gameState.battle.hp;
                document.getElementById('mob-hp-bar').style.width = `${(gameState.battle.mobHp / gameState.battle.hp) * 100}%`;
            }
        }

        // –ê—Ç–∞–∫–∞
        function attack() {
            if (!gameState.battle) return;
            
            const playerAttack = Math.floor(Math.random() * 20) + gameState.player.level * 2;
            const mobAttack = Math.floor(Math.random() * gameState.battle.attack) + 1;
            
            gameState.battle.mobHp = Math.max(0, gameState.battle.mobHp - playerAttack);
            gameState.player.hp = Math.max(0, gameState.player.hp - mobAttack);
            
            showFloatingText(`-${playerAttack}`, 'text-red-500');
            
            if (gameState.battle.mobHp <= 0) {
                // –ü–æ–±–µ–¥–∞
                const xpGain = gameState.battle.xp_reward || 10;
                const goldGain = gameState.battle.gold_reward || 5;
                
                gameState.player.xp += xpGain;
                gameState.player.gold += goldGain;
                gameState.player.stats.mobsKilled += 1;
                
                // –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–æ–≤
                updateQuestProgress('kill');
                updateQuestProgress('gold', goldGain);
                
                showNotification(`–ü–æ–±–µ–¥–∞! +${xpGain} –æ–ø—ã—Ç–∞, +${goldGain} –∑–æ–ª–æ—Ç–∞`);
                showFloatingText(`+${xpGain} XP`, 'text-blue-500');
                showFloatingText(`+${goldGain} –∑–æ–ª–æ—Ç–∞`, 'text-yellow-500');
                showEffect('sparkle');
                
                gameState.battle = null;
                switchTab('main');
            } else if (gameState.player.hp <= 0) {
                // –ü–æ—Ä–∞–∂–µ–Ω–∏–µ
                gameState.player.hp = 1;
                showNotification('–ü–æ—Ä–∞–∂–µ–Ω–∏–µ! –¢—ã —á—É–¥–æ–º –≤—ã–∂–∏–ª...');
                gameState.battle = null;
                switchTab('main');
            }
            
            updateUI();
            updateBattleUI();
            saveGame();
        }

        // –°–±–µ–∂–∞—Ç—å
        function flee() {
            gameState.battle = null;
            switchTab('main');
            showNotification('–¢—ã —É—Å–ø–µ—à–Ω–æ —Å–±–µ–∂–∞–ª!');
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        function switchTab(tab) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ —ç–∫—Ä–∞–Ω—ã
            document.querySelectorAll('[id$="-screen"]').forEach(screen => {
                screen.classList.add('hidden');
            });
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—ã–π —ç–∫—Ä–∞–Ω
            document.getElementById(`${tab}-screen`).classList.remove('hidden');
            
            // –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é
            document.querySelectorAll('[id^="nav-"]').forEach(nav => {
                nav.classList.remove('bg-gradient-to-t', 'from-violet-100', 'to-violet-50', 'text-violet-700', 'scale-110', 'shadow-lg');
                nav.classList.add('text-slate-600', 'hover:text-slate-800', 'hover:bg-slate-100/80', 'hover:scale-105');
                nav.querySelector('div')?.remove();
            });
            
            const activeNav = document.getElementById(`nav-${tab}`);
            if (activeNav) {
                activeNav.classList.remove('text-slate-600', 'hover:text-slate-800', 'hover:bg-slate-100/80', 'hover:scale-105');
                activeNav.classList.add('bg-gradient-to-t', 'from-violet-100', 'to-violet-50', 'text-violet-700', 'scale-110', 'shadow-lg');
                
                const indicator = document.createElement('div');
                indicator.className = 'absolute -top-1 left-1/2 transform -translate-x-1/2 w-6 h-1 bg-gradient-to-r from-violet-500 to-purple-500 rounded-full';
                activeNav.appendChild(indicator);
            }
            
            gameState.currentTab = tab;
            
            // –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç —ç–∫—Ä–∞–Ω–∞
            if (tab === 'inventory') {
                updateInventory();
            } else if (tab === 'shop') {
                updateShop();
            } else if (tab === 'battle') {
                updateBattleUI();
            } else if (tab === 'quests') {
                updateQuestsDisplay();
            }
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
        setInterval(() => {
            gameState.player.hp = Math.min(gameState.player.maxHp, gameState.player.hp + 1);
            gameState.player.energy = Math.min(gameState.player.maxEnergy, gameState.player.energy + 1);
            updateUI();
            if (gameState.player.hp % 5 === 0 || gameState.player.energy % 5 === 0) {
                saveGame();
            }
        }, 5000);

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        document.getElementById('explore-btn').addEventListener('click', handleMainAction);
        document.getElementById('attack-btn').addEventListener('click', attack);
        document.getElementById('flee-btn').addEventListener('click', flee);
        
        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        document.getElementById('nav-main').addEventListener('click', () => switchTab('main'));
        document.getElementById('nav-inventory').addEventListener('click', () => switchTab('inventory'));
        document.getElementById('nav-shop').addEventListener('click', () => switchTab('shop'));
        document.getElementById('nav-skills').addEventListener('click', () => switchTab('skills'));
        document.getElementById('nav-quests').addEventListener('click', () => switchTab('quests'));
        
        // –ö–Ω–æ–ø–∫–∏ –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é
        document.getElementById('inventory-btn').addEventListener('click', () => switchTab('inventory'));
        document.getElementById('shop-btn').addEventListener('click', () => switchTab('shop'));
        document.getElementById('skills-btn').addEventListener('click', () => switchTab('skills'));

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤–∫–ª–∞–¥–æ–∫ –∫–≤–µ—Å—Ç–æ–≤
        document.getElementById('daily-quests-btn').addEventListener('click', () => switchQuestTab('daily'));
        document.getElementById('main-quests-btn').addEventListener('click', () => switchQuestTab('main'));
        document.getElementById('achievements-btn').addEventListener('click', () => switchQuestTab('achievements'));

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫ –∫–≤–µ—Å—Ç–æ–≤
        function switchQuestTab(tab) {
            // –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('#quests-screen button').forEach(btn => {
                btn.classList.remove('bg-gradient-to-r', 'from-violet-500', 'to-purple-600', 'text-white');
                btn.classList.add('bg-slate-200', 'text-slate-600');
            });
            
            // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –∫–Ω–æ–ø–∫—É
            const activeBtn = document.getElementById(`${tab}-quests-btn`) || document.getElementById(`${tab}-btn`);
            if (activeBtn) {
                activeBtn.classList.add('bg-gradient-to-r', 'from-violet-500', 'to-purple-600', 'text-white');
                activeBtn.classList.remove('bg-slate-200', 'text-slate-600');
            }
            
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–Ω—Ç—ã
            document.getElementById('daily-quests').classList.add('hidden');
            document.getElementById('main-quests').classList.add('hidden');
            document.getElementById('achievements').classList.add('hidden');
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
            if (tab === 'daily') {
                document.getElementById('daily-quests').classList.remove('hidden');
            } else if (tab === 'main') {
                document.getElementById('main-quests').classList.remove('hidden');
            } else if (tab === 'achievements') {
                document.getElementById('achievements').classList.remove('hidden');
            }
        }

        // –ì–ª–æ–±–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫—É–ø–∫–∏ (–Ω—É–∂–Ω–∞ –¥–ª—è onclick –≤ HTML)
        window.buyItem = buyItem;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            loadGame();
            initializeShop();
            updateUI();
            updateInventory();
            updateShop();
            switchTab('main');
        }

        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã
        initGame();
    </script>
</body>
</html>